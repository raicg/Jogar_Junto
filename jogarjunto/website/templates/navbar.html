{% load staticfiles %}

<script type="text/javascript">
    function showUserDetails(url) {
    newwindow=window.open(url,'name','height=700,width=520,top=200,left=700,resizable');
    if (window.focus) {newwindow.focus()}
    }
</script>

<link rel="stylesheet" type="text/css" href="{% static 'css/navbar.css' %}">

<nav style="background-color:#0a1922;" class="columns is-mobile navbar is-fixed-top">
    <div class="column is-2-desktop logo">

    </div>

    <div class="column menu-button">
        {% if user.is_authenticated %}
        <div class="dropdown is-hoverable is-pulled-right is-right">
            <div class="dropdown-trigger">
            <a class="icon is-large menu_icon" aria-haspopup="true" aria-controls="dropdown-menu">
                <i class="fas fa-bars fa-2x has-text-white-bis"></i>
            </a>
            </div>
            <div class="dropdown-menu" id="dropdown-menu" role="menu">
            <div class="dropdown-content">
                <p class="dropdown-item"><a href="{% url 'gameList' %}">Inicio</a></p>
                <p class="dropdown-item"><a href="{% url 'addGame' %}">Adicionar Jogo</a></p>
                <p class="dropdown-item"><a href="{% url 'userDetails' pk=user.pk %}" target="_blank" onClick="showUserDetails(this.href);return(false);">Meu Perfil</a></p>
                <hr class="dropdown-divider">
                <p class="dropdown-item"><a href="{% url 'logout' %}">Logout</a></p>
            </div>
            </div>
        </div>
        {% else %}
        <a href="{% url 'login' %}" class="button is-outlined is-pulled-right is-white login">
            Login</a>         
        {% endif %}
    </div>
</nav>
